# =============================================================================
# REFITY - Docker Private Registry with SFTP Storage
# Copy this file to .env and fill in your values.
# =============================================================================

# -----------------------------------------------------------------------------
# STORAGE (SFTP) – Backend stores image blobs and manifests on your SFTP server
# -----------------------------------------------------------------------------
# Required. Your SFTP host (e.g. Hetzner Storage Box: u123456.your-storagebox.de)
FTP_HOST=sftp.example.com
# Required. SFTP port (usually 22)
FTP_PORT=22
# Required. SFTP username
FTP_USERNAME=sftpuser
# Required. SFTP password
FTP_PASSWORD=sftppass

# Optional. Path to SSH known_hosts file. Enables host key verification (recommended in production).
# FTP_KNOWN_HOSTS=/etc/refity/known_hosts

# Optional. When to upload to SFTP:
#   false (default) = async: push returns immediately, upload runs in background
#   true             = sync: push waits until file is on SFTP (slower, but file is there when push completes)
# SFTP_SYNC_UPLOAD=false

# -----------------------------------------------------------------------------
# SERVER – Backend HTTP server
# -----------------------------------------------------------------------------
# Optional. Port for the registry API (default: 5000)
# PORT=5000

# -----------------------------------------------------------------------------
# SECURITY & AUTH – Required for production
# -----------------------------------------------------------------------------
# Required in production. Secret for signing JWT tokens. Use a long random string (e.g. 32+ chars).
JWT_SECRET=your-long-random-secret-at-least-32-chars

# Optional. Comma-separated list of allowed CORS origins (e.g. your frontend URL).
# Default: http://localhost:8080, http://127.0.0.1:8080
# CORS_ORIGINS=https://registry.example.com,https://refity.example.com

# -----------------------------------------------------------------------------
# DASHBOARD – FTP Usage card (Hetzner Storage Box)
# -----------------------------------------------------------------------------
# Optional. Show "FTP Usage" card on dashboard (used/total from Hetzner API).
# Default: false (card hidden; dashboard shows only Total Images, Total Groups, Total Size).
# Set to true only if you use Hetzner Storage Box; then set HCLOUD_TOKEN and HETZNER_BOX_ID.
# FTP_USAGE_ENABLED=true

# Required when FTP_USAGE_ENABLED=true. Hetzner Cloud API token (same as HCLOUD token).
# HCLOUD_TOKEN=your_hetzner_api_token_here

# Required when FTP_USAGE_ENABLED=true. Your Hetzner Storage Box numeric ID.
# HETZNER_BOX_ID=0

# -----------------------------------------------------------------------------
# FRONTEND (Vite) – Used when building or running the web UI
# -----------------------------------------------------------------------------
# Optional. Backend API base URL. Default in dev: http://localhost:5000; in prod: same host as frontend.
# VITE_API_URL=http://localhost:5000

# Optional. Registry URL shown for "docker pull" in the UI (e.g. registry.example.com or localhost:5000).
# VITE_REGISTRY_URL=localhost:5000
